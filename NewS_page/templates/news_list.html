<div class="box" style="height:1500px; width:100%; overflow: scroll;">
{% for i in craw %}
	<div class="card">
	<!-- 카드 헤더 -->
		<div class="card-header">
			<img src="{{ i.img }}" style="width: 500px; height: 300px;">
		</div>
		<!--카드 바디 -->
		<div class="card-body">
		<!--카드 바디 헤더 -->
			<div class="card-body-header">
				<h3>{{ i.title }}</h3>
<!--					<br><br><br><br><br><br>-->
					<div id="loading-screen-{{ forloop.counter }}">
						<p>Loading... <img src="https://t1.daumcdn.net/cfile/tistory/184F8A4E4E55932B06" width="10" height="10"></p>
					</div>
			</div>
			<!-- 모델 결과를 표시할 부분 -->
				<div class="card-text" id="result-section-{{ forloop.counter }}" style="display: none;">
					<p>{{ i.summarize }}</p>
				</div>
<!--				<a href="#">-->
<!--				<p class="card-body-description" onclick="alert('어쩌라구')">-->
<!--				안녕하세요!-->
<!--				같이 퇴근하고싶은 사람 구해요!-->
<!--				</p>-->
<!--				</a>-->
			<!--카드 바디 본문 -->
			<!--카드 바디 푸터 -->
			<div class="card-body-footer">
			<hr style="margin-bottom: 2px; opacity: 0.5; border-color: #EF5A31">
			</div>
		</div>
	</div>
{% endfor %}
</div>


<style>
    .container {
        text-align: center; /* 부모 요소 안에서 텍스트 정렬을 가운데로 설정합니다. */
    }
    .main-header-logo {
        display: inline-block; /* 블록 요소로 설정하여 가운데 정렬을 용이하게 합니다. */
    }
    .main-header-logo img {
        display: block; /* 이미지를 블록 요소로 설정하여 가운데 정렬을 용이하게 합니다. */
        margin: 0 auto; /* 좌우 여백을 자동으로 설정하여 가운데 정렬합니다. */
    }
    @media(min-width: 600px){ /* 사이트 창 크기에 따라 보여지는 카드 리스트 갯수 변형 */

	.card-list {
        display: flex;
        flex-wrap: wrap; // 넘치는 카드 아래로 넘기기
        margin: 0 -1rem; // 카드 바깥 쪽 공간 없애기

    }
    .card-item {
        width: 50%; // 카드 2단 배치
        padding: 0 1rem; // 카드 사이 간격
    }
	}
	@media(min-width: 1200px){
		.card-item {
			width: 33.33333%; // 카드 3단 배치
		}
	}
	.card {
	height: 600px;
	width: 475px;
	border-radius: 15px;
	display: inline-block;
	margin-top: 30px;
	margin-left: 15px;
	margin-right: 15px;
	margin-bottom: 30px;
	position: relative;
	box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
	overflow: hidden;
	}
	/*카드 마우스 호버링*/
	.card-header {
		-webkit-transition: 0.5s; /*사파리 & 크롬*/
	-moz-transition: 0.5s;/*파이어폭스*/
	-ms-transition: 0.5s;	/*인터넷 익스플로러*/
	-o-transition: 0.5s;/*오페라*/
	transition: 0.7s;
		width: 100%;
		height: 300px;
		border-radius: 15px 15px 0 0;
		background-image: url("images/korea.jpeg");
		background-size: 100% 280px;
		background-repeat: no-repeat;
	}
	/*카드 호버링 후 뒷 배경과 스크롤 고정 위치*/
	.card:hover .card-header{
		opacity: 0.2;
		height: 100px;
	}

	.card-header-is_closed{
	background-color: #EF5A31 ;
	color: #FFF ;
	font-weight: bold ;
	text-align: center ;
	float: right;
	margin: 100px 100px 0 0;
	border-radius: 50%;
	font-weight: bold;
	padding: 10px 10px;
	line-height: 20px;
	}

	h1 {
	font-size: 22px;
	font-weight: bold;
	}

	.card-body {
	}

	.card-body-header{
		line-height: 25px;
		margin: 10px 20px 0px 20px;
	}
	/*카드 마우스 호버링 요약글 부분*/
	.card-text p {
		margin-top: 240px; /* 적절한 값을 사용하세요 */
		margin-left: 30px;
		margin-right: 30px;
    }

	.card-body-description{
		opacity: 0;
		color: #757B82;
		line-height: 20px;
		-webkit-transition: .2s ease-in-out; /*사파리&크롬*/
		-moz-transition: .2s ease-in-out; /*파이어폭스*/
		-ms-transition: .2s ease-in-out; /*익스플로러*/
		-o-transition: .2s ease-in-out; /*오페라*/
		transition : .2s ease-in-out;
		overflow: hidden;
		height: 20px;
		margin: 50px 20px;
	}

	.card:hover .card-body-description {
		opacity: 1;
		-webkit-transition: .5s ease-in-out;
		-moz-transition: .5s ease-in-out;
		-ms-transition: .5s ease-in-out;
		-o-transition: .5s ease-in-out;
		transition : .5s ease-in-out;
		overflow: scroll;
	}

	.card-body-hashtag {
		color: #2478FF;
		font-style: italic;
	}

	.card-body-footer {
		position: absolute;
		margin-top: 15px;
		margin-left: 15px;
		margin-bottom: 6px;
		bottom: 0;
		width: 314px;
		font-size: 14px;
		color: #9FA5A8;
		padding: 0 15px;
	}

	.icon {
		display: inline-block;
		vertical-align: middle;
		margin-right: 2px;
	}

	.icon-view_count {
		width: 25px;
		height: 17px;
		background: url("images/eye.jpg") no-repeat;
	}

	.icon-comments_count {
		margin-left: 5px;
		width: 25px;
		height: 17px;
		background: url("images/comment.jpg") no-repeat;
	}

	.reg_date {
		float: right;
	}
	.box{
   -ms-overflow-style: none;
}
	.box::-webkit-scrollbar{
		display:none;
}
</style>
<script>
	async function fetchData() {
		try {
			// 비동기적으로 서버에서 데이터 가져오기
			const response = await fetch('/your-model-endpoint/', {
				method: 'GET',
				credentials: 'include',  // CSRF 토큰을 함께 전송
			});
			const data = await response.json();

			// 여러 기사에 대한 결과를 표시
			data.result.forEach((summarize, index) => {
				document.getElementById(`loading-screen-${index + 1}`).style.display = "none";
				document.getElementById(`result-section-${index + 1}`).style.display = "block";
				document.getElementById(`result-section-${index + 1}`).innerHTML = `<p>${summarize}</p>`;
			});

			// 확인용으로 모델 결과를 콘솔에 출력
			console.log('Model result:', data.result);
		} catch (error) {
			console.error('Error fetching data:', error);
		}
		}

		// fetchData 함수를 바로 호출하여 페이지 로딩시 실행
	fetchData();
</script>